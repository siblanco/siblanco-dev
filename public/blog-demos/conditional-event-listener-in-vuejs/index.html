<!DOCTYPE html>
<html lang="de">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Siblanco DEV - Conditional Event Listeners</title>
        <meta
            name="description"
            content="Hier zeige ich dir, wie du in VueJS einen Event Listener mit Argumenten nur bedingt bindest."
        />
    </head>
    <body>
        <div id="app">
            <h1>{{greeting}}</h1>
            <h2>Die Bedingung ist: {{condition}}</h2>

            <button @click="condition = !condition; magicText = null; eventText = null;">
                Bedingung auf {{ condition ? 'false' : 'true' }} setzen
            </button>

            <div style="margin: 25px 0;">
                <button
                    v-on="{ click: condition ? $event => showMagicText('Leonard Cohen - Tower of Song', $event) : null }"
                >
                    Wenn die Bedingung true ist, habe ich einen Event Listener
                </button>
            </div>

            <div>
                <p>{{magicText}}</p>
                <p>{{eventText}}</p>
            </div>

            <div style="margin-top: 50px">
                <a href="/blog/conditional-event-listener-in-vuejs">zurück zum Beitrag</a>
            </div>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/vue"></script>
        <script>
            const app = new Vue({
                el: '#app',
                data: {
                    greeting:
                        'Wie man in VueJS einen Event Listener bindet, sofern eine Bedingung erfüllt ist.',
                    condition: false,
                    magicText: null,
                    eventText: null
                },
                methods: {
                    showMagicText(text, e) {
                        this.eventText = `Zugriff auf das Event Objekt haben wir auch. Du hast auf die Positionen x: ${e.x} und y: ${e.y} geklickt!`;
                        this.magicText = text;
                    }
                }
            });
        </script>
    </body>
</html>
